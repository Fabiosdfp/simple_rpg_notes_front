<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TTRPG Notes - Organize suas Campanhas</title>
    
    <!-- Quill.js CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/quill/1.3.7/quill.snow.css" rel="stylesheet">
    
    <!-- Estilos customizados -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header Principal -->
        <header class="main-header">
            <div class="header-content">
                <h1>üìö TTRPG Notes</h1>
                <p>Organize suas aventuras e mantenha registro de cada sess√£o</p>
                <div class="header-actions">
                    <div class="search-container">
                        <input 
                            type="text" 
                            id="global-search" 
                            placeholder="üîç Buscar campanhas e notas..." 
                            class="search-input">
                        <div class="search-actions">
                            <button class="btn btn-primary btn-sm" onclick="searchAll()">
                                Buscar Tudo
                            </button>
                        </div>
                    </div>
                    <div class="connection-status" id="connection-status">
                        üîå Conectando...
                    </div>
                </div>
            </div>
        </header>

        <!-- Layout Principal -->
        <div class="app-layout">
            <!-- Sidebar - Campanhas -->
            <aside class="sidebar">
                <div class="sidebar-header">
                    <h3>üé≤ Campanhas</h3>
                    <button class="btn btn-primary btn-sm" onclick="showNewCampaignForm()">
                        ‚ûï Nova
                    </button>
                </div>

                <!-- Formul√°rio Nova Campanha -->
                <div id="new-campaign-form" class="form-section hidden">
                    <h4>Nova Campanha</h4>
                    <div class="form-group">
                        <label for="campaign-name">Nome:</label>
                        <input 
                            type="text" 
                            id="campaign-name" 
                            placeholder="Ex: Lost Mine of Phandelver"
                            maxlength="100">
                    </div>
                    <div class="form-group">
                        <label for="campaign-description">Descri√ß√£o:</label>
                        <textarea 
                            id="campaign-description" 
                            placeholder="Breve descri√ß√£o da campanha"
                            rows="3"></textarea>
                    </div>
                    <div class="form-actions">
                        <button class="btn btn-success btn-sm" onclick="createCampaign()">
                            <span id="create-btn-text">Criar</span>
                        </button>
                        <button class="btn btn-secondary btn-sm" onclick="cancelNewCampaign()">
                            Cancelar
                        </button>
                    </div>
                </div>

                <!-- Lista de Campanhas -->
                <div id="campaigns-container">
                    <div id="campaigns-list">
                        <div class="loading-state">
                            üìã Carregando campanhas...
                        </div>
                    </div>
                </div>
            </aside>

            <!-- √Årea de Conte√∫do Principal -->
            <main class="main-content">
                <!-- Tela de Busca Global -->
                <div id="search-screen" class="search-section hidden">
                    <div class="search-header">
                        <h2>üîç Resultados da Busca</h2>
                        </button>
                    </div>
                    
                    <div class="search-results">
                        <div class="search-category">
                            <h3>üìö Campanhas</h3>
                            <div id="search-campaigns-list">
                                <div class="loading-state">Buscando campanhas...</div>
                            </div>
                        </div>
                        
                        <div class="search-category">
                            <h3>üìù Notas</h3>
                            <div id="search-notes-list">
                                <div class="loading-state">Buscando notas...</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tela de Boas-vindas -->
                <div id="welcome-screen" class="welcome-section">
                    <div class="welcome-content">
                        <h2>üéØ Bem-vindo ao TTRPG Notes!</h2>
                        <p class="welcome-subtitle">
                            Seu companheiro para organizar campanhas de RPG
                        </p>
                        
                        <div class="getting-started-steps">
                            <h3>üöÄ Como come√ßar:</h3>
                            <div class="step-list">
                                <div class="step-item">
                                    <span class="step-number">1</span>
                                    <div class="step-content">
                                        <strong>Crie uma Campanha</strong>
                                        <p>Clique em "‚ûï Nova" na barra lateral para criar sua primeira campanha</p>
                                    </div>
                                </div>
                                <div class="step-item">
                                    <span class="step-number">2</span>
                                    <div class="step-content">
                                        <strong>Selecione a Campanha</strong>
                                        <p>Clique no nome da campanha para visualiz√°-la</p>
                                    </div>
                                </div>
                                <div class="step-item">
                                    <span class="step-number">3</span>
                                    <div class="step-content">
                                        <strong>Adicione Notas</strong>
                                        <p>Com uma campanha selecionada, use "‚ûï Nova Nota" para documentar sess√µes</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="features-grid">
                            <div class="feature-card">
                                <div class="feature-icon">üìù</div>
                                <h3>Criar Campanhas</h3>
                                <p>Organize diferentes jogos e sistemas de RPG</p>
                            </div>
                            <div class="feature-card">
                                <div class="feature-icon">‚úèÔ∏è</div>
                                <h3>Notas Ricas</h3>
                                <p>Editor avan√ßado para documentar suas sess√µes</p>
                            </div>
                            <div class="feature-card">
                                <div class="feature-icon">üìÖ</div>
                                <h3>Cronologia</h3>
                                <p>Mantenha hist√≥rico organizado das aventuras</p>
                            </div>
                        </div>
                        
                        <div class="welcome-cta">
                            <p>üëà Comece criando sua primeira campanha na barra lateral</p>
                        </div>
                    </div>
                </div>

                <!-- Tela da Campanha -->
                <div id="campaign-screen" class="campaign-section hidden">
                    <!-- Header da Campanha -->
                    <div class="campaign-header">
                        <div class="campaign-info">
                            <h2 id="campaign-title">Nome da Campanha</h2>
                            <p id="campaign-description" class="campaign-desc">
                                Descri√ß√£o da campanha
                            </p>
                        </div>
                        <div class="campaign-actions">
                            <button id="new-note-btn" class="btn btn-success" onclick="showNewNoteForm()">
                                ‚ûï Nova Nota
                            </button>
                        </div>
                    </div>

                    <!-- Formul√°rio Nova Nota -->
                    <div id="new-note-form" class="form-section hidden">
                        <div class="form-header">
                            <h3 id="note-form-title">üìù Nova Nota</h3>
                        </div>
                        
                        <div class="form-group">
                            <label for="note-campaign">Campanha:</label>
                            <select id="note-campaign" required>
                                <option value="">Selecione uma campanha...</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="note-title">T√≠tulo da Nota:</label>
                            <input 
                                type="text" 
                                id="note-title" 
                                placeholder="Ex: Sess√£o 1 - A Taverna Misteriosa"
                                maxlength="150">
                        </div>
                        
                        <div class="form-group">
                            <label for="note-editor">Conte√∫do da Sess√£o:</label>
                            <div id="note-editor" class="editor-container"></div>
                        </div>
                        
                        <div class="form-actions">
                            <button class="btn btn-success" onclick="saveNote()">
                                <span id="save-btn-text">üíæ Salvar</span>
                            </button>
                            <button class="btn btn-secondary" onclick="cancelNewNote()">
                                ‚ùå Cancelar
                            </button>
                        </div>
                    </div>

                    <!-- Se√ß√£o de Notas -->
                    <div id="notes-section">
                        <div class="section-header">
                            <h3>üìã Notas da Campanha</h3>
                            <div class="notes-counter">
                                <span id="notes-count">0</span> notas
                            </div>
                        </div>
                        
                        <div id="notes-list">
                            <div class="loading-state">
                                üìù Carregando notas...
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>


    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/quill/1.3.7/quill.min.js"></script>
    <script src="scripts.js"></script>
</body>
</html>